{"version":3,"sources":["../src/unified_grader_user_paginator.js"],"names":["createPicker","items","startIndex","callback","currentIndex","context","name","firstname","lastname","diaplyIndex","total","length","Templates","render","then","html","widget","document","createElement","dataset","graderreplace","innerHTML","nameElement","querySelector","indexNumber","nextButton","previousButton","addEventListener","innerText","id","userid"],"mappings":"mLAAA,uDAEO,GAAMA,CAAAA,CAAY,CAAG,SAACC,CAAD,CAAQC,CAAR,CAAoBC,CAApB,CAAiC,IACrDC,CAAAA,CAAY,CAAGF,CADsC,CAEnDG,CAAO,CAAG,CACZC,IAAI,WAAKL,CAAK,CAAC,CAAD,CAAL,CAASM,SAAd,aAA2BN,CAAK,CAAC,CAAD,CAAL,CAASO,QAApC,CADQ,CAEZC,WAAW,CAAEL,CAAY,CAAG,CAFhB,CAGZM,KAAK,CAAET,CAAK,CAACU,MAHD,CAFyC,CAOzD,MAAOC,WAAUC,MAAV,CAAiB,0BAAjB,CAA6CR,CAA7C,EACFS,IADE,CACG,SAACC,CAAD,CAAU,CACZ,GAAIC,CAAAA,CAAM,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb,CACAF,CAAM,CAACG,OAAP,CAAeC,aAAf,CAA+B,uBAA/B,CACAJ,CAAM,CAACK,SAAP,CAAmBN,CAAnB,CAHY,GAKRO,CAAAA,CAAW,CAAGN,CAAM,CAACO,aAAP,CAAqB,wBAArB,CALN,CAMNC,CAAW,CAAGR,CAAM,CAACO,aAAP,CAAqB,yBAArB,CANR,CAONE,CAAU,CAAGT,CAAM,CAACO,aAAP,CAAqB,6BAArB,CAPP,CAQNG,CAAc,CAAGV,CAAM,CAACO,aAAP,CAAqB,iCAArB,CARX,CAUZE,CAAU,CAACE,gBAAX,CAA4B,OAA5B,CAAqC,UAAM,CACvCvB,CAAY,GACZkB,CAAW,CAACM,SAAZ,WAA2B3B,CAAK,CAACG,CAAD,CAAL,CAAoBG,SAA/C,aAA4DN,CAAK,CAACG,CAAD,CAAL,CAAoBI,QAAhF,EACAgB,CAAW,CAACI,SAAZ,CAAwBxB,CAAxB,CACAD,CAAQ,CAACC,CAAD,CAAgB,CAACyB,EAAE,CAAE5B,CAAK,CAACG,CAAD,CAAL,CAAoB0B,MAAzB,CAAhB,CACX,CALD,EAOAJ,CAAc,CAACC,gBAAf,CAAgC,OAAhC,CAAyC,UAAM,CAC3CvB,CAAY,GACZkB,CAAW,CAACM,SAAZ,WAA2B3B,CAAK,CAACG,CAAD,CAAL,CAAoBG,SAA/C,aAA4DN,CAAK,CAACG,CAAD,CAAL,CAAoBI,QAAhF,EACAgB,CAAW,CAACI,SAAZ,CAAwBxB,CAAxB,CACAD,CAAQ,CAACC,CAAD,CAAe,CAACyB,EAAE,CAAE5B,CAAK,CAACG,CAAD,CAAL,CAAoB0B,MAAzB,CAAf,CACX,CALD,EAOA,MAAOd,CAAAA,CACV,CA1BE,CA2BV,CAlCM,C","sourcesContent":["import Templates from 'core/templates';\n\nexport const createPicker = (items, startIndex, callback) => {\n    let currentIndex = startIndex;\n    const context = {\n        name: `${items[0].firstname} ${items[0].lastname}`,\n        diaplyIndex: currentIndex + 1,\n        total: items.length\n    };\n    return Templates.render('mod_forum/user_navigator', context)\n        .then((html) => {\n            let widget = document.createElement('div');\n            widget.dataset.graderreplace = \"grading-panel-display\";\n            widget.innerHTML = html;\n\n            let nameElement = widget.querySelector('[data-region=\"name\"]');\n            const indexNumber = widget.querySelector('[data-region=\"index\"]');\n            const nextButton = widget.querySelector('[data-action=\"next-user\"]');\n            const previousButton = widget.querySelector('[data-action=\"previous-user\"]');\n\n            nextButton.addEventListener('click', () => {\n                currentIndex++;\n                nameElement.innerText = `${items[currentIndex].firstname} ${items[currentIndex].lastname}`;\n                indexNumber.innerText = currentIndex;\n                callback(currentIndex,  {id: items[currentIndex].userid});\n            });\n\n            previousButton.addEventListener('click', () => {\n                currentIndex--;\n                nameElement.innerText = `${items[currentIndex].firstname} ${items[currentIndex].lastname}`;\n                indexNumber.innerText = currentIndex;\n                callback(currentIndex, {id: items[currentIndex].userid});\n            });\n\n            return widget;\n        });\n};\n"],"file":"unified_grader_user_paginator.min.js"}