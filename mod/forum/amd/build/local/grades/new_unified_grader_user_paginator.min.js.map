{"version":3,"sources":["../../../src/local/grades/new_unified_grader_user_paginator.js"],"names":["buildPicker","items","index","_init","console","log","_renderNavigator","context","_cacheDom","_bindEvents","firstName","firstname","lastName","lastname","displayindex","total","length","Templates","render","_renderUserChange","paginator","document","querySelector","nextButton","previousButton","on","nextUser","previousUser","displayIndex"],"mappings":"iMAAA,uD,2BAE2B,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAQC,CAAR,CAAkB,CACzCC,CAAK,CAACF,CAAD,CAAQC,CAAR,CAAL,CAEAE,OAAO,CAACC,GAAR,CAAY,KAAZ,EACAC,CAAgB,CAAC,CAAI,CAACC,OAAN,CAAhB,CAEAC,CAAS,GAETC,CAAW,EACd,C,IAEKN,CAAAA,CAAK,CAAG,SAACF,CAAD,CAAQC,CAAR,CAAkB,CAE5B,CAAI,CAACA,KAAL,CAAaA,CAAb,CACA,CAAI,CAACD,KAAL,CAAaA,CAAb,CAEA,CAAI,CAACM,OAAL,CAAe,CACXG,SAAS,CAAET,CAAK,CAACC,CAAD,CAAL,CAAaS,SADb,CAEXC,QAAQ,CAAEX,CAAK,CAACC,CAAD,CAAL,CAAaW,QAFZ,CAGXC,YAAY,CAAEZ,CAAK,CAAG,CAHX,CAIXa,KAAK,CAAEd,CAAK,CAACe,MAJF,CAMlB,C,CAEKV,CAAgB,CAAG,SAACC,CAAD,CAAa,CAClC,MAAOU,WAAUC,MAAV,CAAiB,sDAAjB,CAAyEX,CAAzE,CACV,C,CAEKY,CAAiB,CAAG,SAACZ,CAAD,CAAa,CACnC,MAAOU,WAAUC,MAAV,CAAiB,2DAAjB,CAA8EX,CAA9E,CACV,C,CAEMC,CAAS,CAAG,UAAM,CACrB,CAAI,CAACY,SAAL,CAAiBC,QAAQ,CAACC,aAAT,CAAuB,2BAAvB,CAAjB,CACA,CAAI,CAACC,UAAL,CAAkB,CAAI,CAACH,SAAL,CAAeE,aAAf,CAA6B,6BAA7B,CAAlB,CACA,CAAI,CAACE,cAAL,CAAsB,CAAI,CAACJ,SAAL,CAAeE,aAAf,CAA6B,iCAA7B,CACzB,C,CACKb,CAAW,CAAG,UAAM,CACtB,CAAI,CAACc,UAAL,CAAgBE,EAAhB,CAAmB,OAAnB,CAA4BC,CAA5B,EACA,CAAI,CAACF,cAAL,CAAoBC,EAApB,CAAuB,OAAvB,CAAgCE,CAAhC,CACH,C,CAEKD,CAAQ,CAAG,UAAM,CACnB,CAAI,CAACxB,KAAL,GAEA,GAAMK,CAAAA,CAAO,CAAG,CACZG,SAAS,CAAE,CAAI,CAACT,KAAL,CAAW,CAAI,CAACC,KAAhB,EAAuBQ,SADtB,CAEZE,QAAQ,CAAE,CAAI,CAACX,KAAL,CAAW,CAAI,CAACC,KAAhB,EAAuBU,QAFrB,CAGZgB,YAAY,CAAE,CAAI,CAAC1B,KAAL,EAHF,CAAhB,CAMAiB,CAAiB,CAACZ,CAAD,CAIpB,C,CAEKoB,CAAY,CAAG,UAAM,CACvB,CAAI,CAACzB,KAAL,GAEA,GAAMK,CAAAA,CAAO,CAAG,CACZG,SAAS,CAAE,CAAI,CAACT,KAAL,CAAW,CAAI,CAACC,KAAhB,EAAuBQ,SADtB,CAEZE,QAAQ,CAAE,CAAI,CAACX,KAAL,CAAW,CAAI,CAACC,KAAhB,EAAuBU,QAFrB,CAGZgB,YAAY,CAAE,CAAI,CAAC1B,KAAL,EAHF,CAAhB,CAMAiB,CAAiB,CAACZ,CAAD,CAIpB,C","sourcesContent":["import Templates from 'core/templates';\n\nexport const buildPicker = (items, index) => {\n    _init(items, index);\n\n    console.log('420');\n    _renderNavigator(this.context);\n\n    _cacheDom();\n\n    _bindEvents();\n};\n\nconst _init = (items, index) => {\n    // TODO generate the full name from PHP function.\n    this.index = index;\n    this.items = items;\n\n    this.context = {\n        firstName: items[index].firstname,\n        lastName: items[index].lastname,\n        displayindex: index + 1,\n        total: items.length,\n    };\n};\n\nconst _renderNavigator = (context) => {\n    return Templates.render('mod_forum/local/grades/unified_grader/user_navigator', context);\n};\n\nconst _renderUserChange = (context) => {\n    return Templates.render('mod_forum/local/grades/unified_grader/user_navigator_user', context);\n};\n\nconst  _cacheDom = () => {\n    this.paginator = document.querySelector('data-grader=\"paginator\"');\n    this.nextButton = this.paginator.querySelector('[data-action=\"next-user\"]');\n    this.previousButton = this.paginator.querySelector('[data-action=\"previous-user\"]');\n};\nconst _bindEvents = () => {\n    this.nextButton.on('click', nextUser);\n    this.previousButton.on('click', previousUser);\n};\n\nconst nextUser = () => {\n    this.index++;\n\n    const context = {\n        firstName: this.items[this.index].firstName,\n        lastName: this.items[this.index].lastName,\n        displayIndex: this.index++\n    };\n\n    _renderUserChange(context);\n\n    // PubSub\n    //callback({id: items[currentIndex].userid});\n};\n\nconst previousUser = () => {\n    this.index--;\n\n    const context = {\n        firstName: this.items[this.index].firstName,\n        lastName: this.items[this.index].lastName,\n        displayIndex: this.index++\n    };\n\n    _renderUserChange(context);\n\n    // PubSub\n    //callback({id: items[currentIndex].userid});\n};\n"],"file":"new_unified_grader_user_paginator.min.js"}