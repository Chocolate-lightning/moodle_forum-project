{"version":3,"sources":["../../../src/local/grades/unified_grader_user_paginator.js"],"names":["createPicker","items","startIndex","callback","currentIndex","context","name","firstname","lastname","displayIndex","total","length","Templates","render","then","html","widget","document","createElement","dataset","graderreplace","innerHTML","nameElement","querySelector","indexNumber","nextButton","previousButton","innerText","id","userid","addEventListener"],"mappings":"8LAAA,uDAEO,GAAMA,CAAAA,CAAY,CAAG,SAACC,CAAD,CAAQC,CAAR,CAAoBC,CAApB,CAAiC,IACrDC,CAAAA,CAAY,CAAGF,CADsC,CAEnDG,CAAO,CAAG,CACZC,IAAI,WAAKL,CAAK,CAAC,CAAD,CAAL,CAASM,SAAd,aAA2BN,CAAK,CAAC,CAAD,CAAL,CAASO,QAApC,CADQ,CAEZC,YAAY,CAAEL,CAAY,CAAG,CAFjB,CAGZM,KAAK,CAAET,CAAK,CAACU,MAHD,CAFyC,CAOzD,MAAOC,WAAUC,MAAV,CAAiB,sDAAjB,CAAyER,CAAzE,EACFS,IADE,CACG,SAACC,CAAD,CAAU,CACZ,GAAIC,CAAAA,CAAM,CAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb,CACAF,CAAM,CAACG,OAAP,CAAeC,aAAf,CAA+B,uBAA/B,CACAJ,CAAM,CAACK,SAAP,CAAmBN,CAAnB,CAHY,GAMRO,CAAAA,CAAW,CAAGN,CAAM,CAACO,aAAP,CAAqB,wBAArB,CANN,CAONC,CAAW,CAAGR,CAAM,CAACO,aAAP,CAAqB,yBAArB,CAPR,CAQNE,CAAU,CAAGT,CAAM,CAACO,aAAP,CAAqB,6BAArB,CARP,CASNG,CAAc,CAAGV,CAAM,CAACO,aAAP,CAAqB,iCAArB,CATX,CAWZD,CAAW,CAACK,SAAZ,WAA2B1B,CAAK,CAACG,CAAD,CAAL,CAAoBG,SAA/C,aAA4DN,CAAK,CAACG,CAAD,CAAL,CAAoBI,QAAhF,EACAgB,CAAW,CAACG,SAAZ,CAAwBtB,CAAO,CAACI,YAAhC,CAEAN,CAAQ,CAAC,CAACyB,EAAE,CAAE3B,CAAK,CAACG,CAAD,CAAL,CAAoByB,MAAzB,CAAD,CAAR,CACAJ,CAAU,CAACK,gBAAX,CAA4B,OAA5B,CAAqC,UAAM,CACvC1B,CAAY,GACZkB,CAAW,CAACK,SAAZ,WAA2B1B,CAAK,CAACG,CAAD,CAAL,CAAoBG,SAA/C,aAA4DN,CAAK,CAACG,CAAD,CAAL,CAAoBI,QAAhF,EACAgB,CAAW,CAACG,SAAZ,CAAwBvB,CAAY,CAAG,CAAvC,CAEAD,CAAQ,CAAC,CAACyB,EAAE,CAAE3B,CAAK,CAACG,CAAD,CAAL,CAAoByB,MAAzB,CAAD,CACX,CAND,EAQAH,CAAc,CAACI,gBAAf,CAAgC,OAAhC,CAAyC,UAAM,CAC3C1B,CAAY,GACZkB,CAAW,CAACK,SAAZ,WAA2B1B,CAAK,CAACG,CAAD,CAAL,CAAoBG,SAA/C,aAA4DN,CAAK,CAACG,CAAD,CAAL,CAAoBI,QAAhF,EACAgB,CAAW,CAACG,SAAZ,CAAwBvB,CAAY,CAAG,CAAvC,CACAD,CAAQ,CAAC,CAACyB,EAAE,CAAE3B,CAAK,CAACG,CAAD,CAAL,CAAoByB,MAAzB,CAAD,CACX,CALD,EAOA,MAAOb,CAAAA,CACV,CAhCE,CAiCV,CAxCM,C","sourcesContent":["import Templates from 'core/templates';\n\nexport const createPicker = (items, startIndex, callback) => {\n    let currentIndex = startIndex;\n    const context = {\n        name: `${items[0].firstname} ${items[0].lastname}`,\n        displayIndex: currentIndex + 1,\n        total: items.length\n    };\n    return Templates.render('mod_forum/local/grades/unified_grader/user_navigator', context)\n        .then((html) => {\n            let widget = document.createElement('div');\n            widget.dataset.graderreplace = \"grading-panel-display\";\n            widget.innerHTML = html;\n\n            // Remove widget stuff by having another template.\n            let nameElement = widget.querySelector('[data-region=\"name\"]');\n            const indexNumber = widget.querySelector('[data-region=\"index\"]');\n            const nextButton = widget.querySelector('[data-action=\"next-user\"]');\n            const previousButton = widget.querySelector('[data-action=\"previous-user\"]');\n\n            nameElement.innerText = `${items[currentIndex].firstname} ${items[currentIndex].lastname}`;\n            indexNumber.innerText = context.displayIndex;\n            // Move first render out from here\n            callback({id: items[currentIndex].userid});\n            nextButton.addEventListener('click', () => {\n                currentIndex++;\n                nameElement.innerText = `${items[currentIndex].firstname} ${items[currentIndex].lastname}`;\n                indexNumber.innerText = currentIndex + 1;\n                // Pass full item object back.\n                callback({id: items[currentIndex].userid});\n            });\n\n            previousButton.addEventListener('click', () => {\n                currentIndex--;\n                nameElement.innerText = `${items[currentIndex].firstname} ${items[currentIndex].lastname}`;\n                indexNumber.innerText = currentIndex + 1;\n                callback({id: items[currentIndex].userid});\n            });\n\n            return widget;\n        });\n};\n"],"file":"unified_grader_user_paginator.min.js"}