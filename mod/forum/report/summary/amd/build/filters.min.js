define ("forumreport_summary/filters",["exports","jquery","core/popper","core/yui"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=e(b);c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}var f=function(a){a=(0,b.default)(a);(0,b.default)(document).ready(function(){(0,b.default)(".loading-icon").hide();(0,b.default)("#summaryreport").removeClass("hidden")});(0,b.default)(a).on("click",".filter-clear",function(a){var b=a.target.parentNode.parentNode.parentElement.querySelectorAll("input[type=\"checkbox\"]:checked");b.forEach(function(a){a.checked=!1})});var e=function(a){if(document.querySelector("[data-openfilter=\"true\"]")){return!1}a.target.setAttribute("data-openfilter","true");return!0},f=function(a){var c=(0,b.default)("#filtersform").attr("action");if(a){a.preventDefault();var d=a.target.search.substr(1);c+="&"+d}(0,b.default)("#filtersform").attr("action",c);(0,b.default)("#filtersform").submit()};(0,b.default)(".resettable").on("click","a",function(a){f(a)});(0,b.default)("thead").on("click","a",function(a){f(a)});(0,b.default)(".pagination").on("click","a",function(a){f(a)});var g=function(a){var b=document.getElementById(a),c=b.querySelectorAll("input[type=\"checkbox\"]:not(:checked)");c.forEach(function(a){a.checked=!0})},h=function(){var a=document.querySelector("#filter-dates-popover"),b=document.querySelector("#dateselector-calendar-panel");new c.default(a,b,{placement:"bottom"})};(0,b.default)("#filter-groups-popover .select-all").on("click",function(){g("filter-groups-popover")});(0,b.default)("#filter-groups-button").on("click",function(){if(!e(event)){return!1}var a=document.querySelector("#filter-groups-button"),d=document.querySelector("#filter-groups-popover");new c.default(a,d,{placement:"bottom"});(0,b.default)("#filter-groups-popover").removeClass("hidden")});(0,b.default)(a).on("click","#filter-groups-popover .filter-save",function(){(0,b.default)("#filter-groups-popover").addClass("hidden");f(!1)});(0,b.default)("#filter-dates-button").on("click",function(a){if(!e(a)){return!1}var d=document.querySelector("#filter-dates-button"),f=document.querySelector("#filter-dates-popover");new c.default(d,f,{placement:"bottom"});(0,b.default)("#filter-dates-popover").removeClass("hidden")});(0,b.default)(a).on("click","#filter-dates-popover .filter-save",function(){(0,b.default)("#filter-dates-popover").addClass("hidden");var a=document.forms.filtersform,c=document.getElementById("filter-dates-popover");a.elements["datefrom[day]"].value=c.querySelector("[name=\"filterdatefrompopover[day]\"]").value;a.elements["datefrom[month]"].value=c.querySelector("[name=\"filterdatefrompopover[month]\"]").value;a.elements["datefrom[year]"].value=c.querySelector("[name=\"filterdatefrompopover[year]\"]").value;a.elements["datefrom[enabled]"].value=c.querySelector("[name=\"filterdatefrompopover[enabled]\"]").checked?1:0;a.elements["dateto[day]"].value=c.querySelector("[name=\"filterdatetopopover[day]\"]").value;a.elements["dateto[month]"].value=c.querySelector("[name=\"filterdatetopopover[month]\"]").value;a.elements["dateto[year]"].value=c.querySelector("[name=\"filterdatetopopover[year]\"]").value;a.elements["dateto[enabled]"].value=c.querySelector("[name=\"filterdatetopopover[enabled]\"]").checked?1:0;d.default.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()});f(!1)});(0,b.default)(a).on("click","#id_filterdatefrompopover_calendar",function(){h()});(0,b.default)(a).on("click","#id_filterdatetopopover_calendar",function(){h()})};a.init=f});
//# sourceMappingURL=filters.min.js.map
