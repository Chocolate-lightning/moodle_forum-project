define ("forumreport_summary/filters",["exports","jquery","core/popper","core/custom_interaction_events","forumreport_summary/selectors","core/yui"],function(a,b,c,d,e,f){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=g(b);c=g(c);d=g(d);e=g(e);f=g(f);function g(a){return a&&a.__esModule?a:{default:a}}var h=function(a){var g=(0,b.default)(a);(0,b.default)(document).ready(function(){(0,b.default)(".loading-icon").hide();(0,b.default)("#summaryreport").removeClass("hidden")});var h=function(a){var c=(0,b.default)("#filtersform").attr("action");if(a){a.preventDefault();var d=a.target.search.substr(1);c+="&"+d}(0,b.default)("#filtersform").attr("action",c);(0,b.default)("#filtersform").submit()};(0,b.default)(".resettable").on("click","a",function(a){h(a)});(0,b.default)("thead").on("click","a",function(a){h(a)});(0,b.default)(".pagination").on("click","a",function(a){h(a)});var i=function(a){(0,b.default)(a).addClass("hidden");h(!1)},j=function(){var a=document.querySelector(e.default.filters.date.popover),b=document.querySelector(e.default.filters.date.calendar);new c.default(a,b,{placement:"bottom"})},k=function(a){if(document.querySelector("[data-openfilter=\"true\"]")){return!1}a.target.setAttribute("data-openfilter","true");return!0};g.on(d.default.events.activate,e.default.filters.group.selectall,function(){var b=a.querySelectorAll(e.default.filters.group.checkbox+":not(:checked)");b.forEach(function(a){a.checked=!0})});g.on(d.default.events.activate,e.default.filters.group.clear,function(){var b=a.querySelectorAll(e.default.filters.group.checkbox+":checked");b.forEach(function(a){a.checked=!1})});g.on(d.default.events.activate,e.default.filters.group.trigger,function(b){if(!k(b)){return!1}var d=a.querySelector(e.default.filters.group.trigger),f=a.querySelector(e.default.filters.group.popover);new c.default(d,f,{placement:"bottom"});f.classList.remove("hidden");d.classList.add("btn-outline-primary");d.classList.remove("btn-primary");d.setAttribute("aria-expanded",!0);return!0});g.on(d.default.events.activate,e.default.filters.group.save,function(){i("#filter-groups-popover")});g.on(d.default.events.activate,e.default.filters.date.trigger,function(b){if(!k(b)){return!1}var d=a.querySelector(e.default.filters.date.trigger),f=a.querySelector(e.default.filters.date.popover);new c.default(d,f,{placement:"bottom"});f.classList.remove("hidden");f.querySelector("[name=\"filterdatefrompopover[enabled]\"]").focus();d.classList.add("btn-outline-primary");d.classList.remove("btn-primary");d.setAttribute("aria-expanded",!0);return!0});g.on(d.default.events.activate,e.default.filters.date.save,function(){var b=document.forms.filtersform,c=a.querySelector(e.default.filters.date.popover);b.elements["datefrom[day]"].value=c.querySelector("[name=\"filterdatefrompopover[day]\"]").value;b.elements["datefrom[month]"].value=c.querySelector("[name=\"filterdatefrompopover[month]\"]").value;b.elements["datefrom[year]"].value=c.querySelector("[name=\"filterdatefrompopover[year]\"]").value;b.elements["datefrom[enabled]"].value=c.querySelector("[name=\"filterdatefrompopover[enabled]\"]").checked?1:0;b.elements["dateto[day]"].value=c.querySelector("[name=\"filterdatetopopover[day]\"]").value;b.elements["dateto[month]"].value=c.querySelector("[name=\"filterdatetopopover[month]\"]").value;b.elements["dateto[year]"].value=c.querySelector("[name=\"filterdatetopopover[year]\"]").value;b.elements["dateto[enabled]"].value=c.querySelector("[name=\"filterdatetopopover[enabled]\"]").checked?1:0;f.default.use("moodle-core-formchangechecker",function(){M.core_formchangechecker.reset_form_dirty_state()});i("#filter-dates-popover")});g.on("click","#id_filterdatefrompopover_calendar",function(){j()});g.on("click","#id_filterdatetopopover_calendar",function(){j()})};a.init=h});
//# sourceMappingURL=filters.min.js.map
